(function(){function n(){const n=Math.floor(Math.random()*v.length-1)+1;return v[n]}function t(n){return 0===n.length}function e(n){return n.length>1}function r(n){return-1===w.toLowerCase().indexOf(n)}function o(n){return w.split("").reduce((t,e,r)=>(n===e.toLowerCase()&&t.push(r),t),[])}function i(n){d=d.map((t,e)=>n.includes(e)?w.charAt(e):t)}function s(){return w===d.join("")}function a(n,s){if(t(n)||e(n))return;if(r(n))return void s.loseLife();const a=o(n);i(a)}function u(n){return{name:`Player ${n}`,lives:3,hasWon:!1,get alive(){return this.lives>0},loseLife(){this.lives--},win(){this.hasWon=!0}}}function c(){const n=prompt("How many players are you?"),t=parseInt(n);return[...Array(t).keys()].map((n,t)=>u(t+1))}function f(){return g.filter(({alive:n})=>n)}function l(){return 0===f().length}function h(){return g.find(({hasWon:n})=>n)}function m(){for(const n of f()){const t=`\n                ${n.name}\n    \n                Guess a character\n    \n                ${d.join(" ")}\n    \n                Lives left: ${n.lives}\n                `,e=prompt(t);if(a(e.toLowerCase(),n),s()){n.win();break}}}function p(){w=n(),d=w.split("").map(()=>"_"),g=c();let t=!0;for(;t;)if(m(),t=!(l()||s()),!t){const n=l()?`Everyone has lost! The correct word was ${w}`:`${h().name} has won, congratulations!`;alert(n)}}const v=["Programmering","Stockholm","Studenter","Javascript","Afterwork"];let w,d,g=[];p()})();